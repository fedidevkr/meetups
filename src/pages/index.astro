---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import LinkButton from "@components/LinkButton.astro";
import Hr from "@components/Hr.astro";
import Card from "@components/Card";
import Socials from "@components/Socials.astro";
import getSortedPosts from "@utils/getSortedPosts";
import { SITE, SOCIALS } from "@config";

const posts = await getCollection("blog");

const sortedPosts = getSortedPosts(posts);
const featuredPosts = sortedPosts.filter(({ data }) => data.featured);
const recentPosts = sortedPosts.filter(({ data }) => !data.featured);

const socialCount = SOCIALS.filter(social => social.active).length;
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <a
        target="_blank"
        href="/rss.xml"
        class="rss-link"
        aria-label="rss feed"
        title="RSS Feed"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="rss-icon"
          ><path
            d="M19 20.001C19 11.729 12.271 5 4 5v2c7.168 0 13 5.832 13 13.001h2z"
          ></path><path
            d="M12 20.001h2C14 14.486 9.514 10 4 10v2c4.411 0 8 3.589 8 8.001z"
          ></path><circle cx="6" cy="18" r="2"></circle>
        </svg>
        <span class="sr-only">RSS Feed</span>
      </a>

	  <h1 class="text-3xl !leading-loose font-black">한국 연합우주 개발자 모임과 함께해요!</h1>
	  <br/>
		<p class="leading-relaxed"><a href="https://fedidev.kr/">한국 연합우주 개발자 모임</a>(FediDev KR)은 연합우주(fediverse) 생태계를 더욱 풍성하게 만들기 위해 다양한 개발자들이 모여 스프린트 모임을 진행하는 커뮤니티입니다. 이 모임은 비정기적으로 개최되며, 모든 기여자들이 각자의 방식으로 생태계에 기여할 수 있는 열린 공간입니다.</p>

		<br/>
		<h2 class="text-2xl leading-loose font-black">스프린트 모임이란?</h2>
		<br/>
		<p class="leading-relaxed">스프린트 모임에서는 연합우주 생태계를 확장하고 발전시키기 위한 다양한 활동이 이루어집니다. 새로운 서비스를 개발하거나, 응용 프로그램을 제작하고, 번역에 기여하는 등, 기여 방식은 형식에 구애받지 않고 자유롭게 선택할 수 있습니다. 누구나 자신의 역량에 맞는 방법으로 참여할 수 있습니다.</p>

		<br/>
		<h2 class="text-2xl leading-loose font-black">지금까지 진행된 프로젝트</h2>
		<br/>
		<ul class="list-disc pl-6">
			<li class="leading-loose"><a class="underline" href="https://github.com/dahlia/hollo">Hollo</a>: 페디버스 기반의 1인용 마이크로 블로그 서비스</li>
			<li class="leading-loose"><a class="underline" href="https://github.com/pbzweihander/chamsae">Chamsae</a>: 메시징에 특화된 ActivityPub 기반 서비스</li>
			<li class="leading-loose"><a class="underline" href="https://fedify.dev/">Fedify</a>: ActivityPub 기반의 서비스를 쉽게 개발할 수 있도록 도와주는 라이브러리</li>
		</ul>
		<p class="leading-relaxed">이 외에도 많은 개발자들이 각자의 아이디어로 다양한 프로젝트에 기여하고 있습니다.</p>

		<p class="leading-relaxed">스프린트 모임에서는 연합우주 생태계를 확장하고 발전시키기 위한 다양한 활동이 이루어집니다. 새로운 서비스를 개발하거나, 응용 프로그램을 제작하고, 번역에 기여하는 등, 기여 방식은 형식에 구애받지 않고 자유롭게 선택할 수 있습니다. 누구나 자신의 역량에 맞는 방법으로 참여할 수 있습니다.</p>
		<br/>
		<h2 class="text-2xl leading-loose font-black">여러분의 작은 기여가 연합우주 생태계의 큰 변화를 만듭니다!</h2>
		<br/>
		<p class="leading-relaxed">연합우주 생태계는 다양한 아이디어가 실현될 수 있는 실험의 장이자, 누구나 투명하고 자유롭게 참여할 수 있는 공간입니다. 따라서 누구나 생태계의 발전에 기여할 수 있습니다.</p>
		<br/>

		<p class="leading-relaxed"><strong>연합우주에 참여한다는 것은 중앙화된 플랫폼의 한계를 넘어, 모두가 자율적으로 기여하고 성장할 수 있는 공간을 함께 구축하는 일입니다.</strong> 여러분의 아이디어와 기술은 실험되고, 그 결과가 생태계 전반에 긍정적인 영향을 미칠 수 있습니다. 작은 기여라도 새로운 서비스나 응용 프로그램으로 이어지며, 이 과정에서 더 많은 협력과 상호작용이 이루어집니다. <strong>연합우주는 개개인의 창의성과 다양성을 존중하며, 누구나 디지털 생태계의 발전에 주체적으로 기여할 수 있는 열린 환경입니다.</strong></p>
		<br/>

		<p class="leading-relaxed">개발자, 디자이너, 번역가 등 누구나 환영합니다! 여러분의 작은 기여가 모여 연합우주 생태계를 풍성하게 만듭니다. 지금 바로 참여해보세요!</p>

		<br/>
		<h2 class="text-2xl leading-loose font-black">후원 및 협력 문의</h2>
		<br/>
		<p class="leading-relaxed">기업의 후원은 단순히 모임을 지원하는 것을 넘어서, 더 큰 디지털 혁신의 일환으로서 중요한 의미를 가집니다. 기업이 연합우주 생태계를 후원함으로써 투명하고 지속 가능한 인터넷 생태계의 발전에 기여할 수 있습니다.</p>
		<br/>
		<ul>
			<li>분산형 웹의 가치를 지지하는 기업이라는 브랜드 이미지를 강화하는 데 도움이 됩니다.</li>
			<li>오픈 소스 생태계의 성장을 지원하고, 자유롭고 안전한 웹 환경을 촉진하는 데 직접적으로 기여할 수 있습니다.</li>
		</ul>
		<br/>
		<p class="leading-relaxed">한국 연합우주 개발자 모임은 여러분의 후원과 협력을 통해 더욱 성장하고 있습니다. 후원에 관심 있는 분들은 언제든지 문의해 주세요.</p>
		<br/>

		<p>지금까지 후원해주신 기업:</p>
		<ul class="list-disc pl-6">
			<li>리턴제로: 2024년 8월 31일 모임 장소 대관 후원</li>
		</ul>
		<br/>

	
      <p>
        후원 문의는
        <LinkButton
          className="underline decoration-dashed underline-offset-4 hover:text-skin-accent"
          href="mailto:contact@fedidev.kr"
        >
          contact@fedidev.kr
        </LinkButton> 
      </p>
    </section>

    <Hr />

	{
      featuredPosts.length > 0 && (
        <>
          <section id="featured">
            <h2>Featured</h2>
            <ul>
              {featuredPosts.map(({ data, slug }) => (
                <Card
                  href={`/posts/${slug}/`}
                  frontmatter={data}
                  secHeading={false}
                />
              ))}
            </ul>
          </section>
          {recentPosts.length > 0 && <Hr />}
        </>
      )
	}

    {
      recentPosts.length > 0 && (
        <section id="recent-posts">
          <h2>Recent Posts</h2>
          <ul>
            {recentPosts.map(
              ({ data, slug }, index) =>
                index < SITE.postPerIndex && (
                  <Card
                    href={`/posts/${slug}/`}
                    frontmatter={data}
                    secHeading={false}
                  />
                )
            )}
          </ul>
        </section>
      )
    }

    <div class="all-posts-btn-wrapper">
      <LinkButton href="/posts/">
        All Posts
        <svg xmlns="http://www.w3.org/2000/svg"
          ><path
            d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"
          ></path>
        </svg>
      </LinkButton>
    </div>
  </main>

  <Footer />
</Layout>

<style>
  /* ===== Hero Section ===== */
  #hero {
    @apply pb-6 pt-8;
  }
  #hero h1 {
    @apply my-4 inline-block text-3xl font-bold sm:my-8 sm:text-5xl;
  }
  #hero .rss-link {
    @apply mb-6;
  }
  #hero .rss-icon {
    @apply mb-2 h-6 w-6 scale-110 fill-skin-accent sm:mb-3 sm:scale-125;
  }
  #hero p {
    @apply my-2;
  }
  .social-wrapper {
    @apply mt-4 flex flex-col sm:flex-row sm:items-center;
  }
  .social-links {
    @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
  }

  /* ===== Featured & Recent Posts Sections ===== */
  #featured,
  #recent-posts {
    @apply pb-6 pt-12;
  }
  #featured h2,
  #recent-posts h2 {
    @apply text-2xl font-semibold tracking-wide;
  }
  .all-posts-btn-wrapper {
    @apply my-8 text-center;
  }
</style>
